{"remainingRequest":"/home/fm/workspace/vue/vue-skynet/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/fm/workspace/vue/vue-skynet/app/src/components/TariffDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/fm/workspace/vue/vue-skynet/app/src/components/TariffDetails.vue","mtime":1566493024719},{"path":"/home/fm/workspace/vue/vue-skynet/app/node_modules/cache-loader/dist/cjs.js","mtime":1565021543729},{"path":"/home/fm/workspace/vue/vue-skynet/app/node_modules/thread-loader/dist/cjs.js","mtime":1565453360820},{"path":"/home/fm/workspace/vue/vue-skynet/app/node_modules/babel-loader/lib/index.js","mtime":1565021541238},{"path":"/home/fm/workspace/vue/vue-skynet/app/node_modules/cache-loader/dist/cjs.js","mtime":1565021543729},{"path":"/home/fm/workspace/vue/vue-skynet/app/node_modules/vue-loader/lib/index.js","mtime":1565021544267}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"TariffDetails\",\n  props: {\n    tariffs: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      tariff: null\n    };\n  },\n  methods: {\n    back() {\n      this.$router.go(-1);\n    },\n    getTariff() {\n      this.tariffs.forEach(item => {\n        item.tarifs.map(elem => {\n          if (elem.ID == this.$route.params.id) {\n            this.tariff = elem;\n          }\n        });\n      });\n    },\n    setPeriodDuration(months) {\n      const date = new Date();\n      const newDate = new Date(\n        date.setMonth(date.getMonth() + parseInt(months))\n      );\n\n      return `${newDate.getDate()}.${newDate.getMonth()}.${newDate.getFullYear()}`;\n    }\n  },\n  created() {\n    this.getTariff();\n  }\n};\n",{"version":3,"sources":["TariffDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TariffDetails.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"tariff-details\">\n    <div class=\"header\">\n      <div class=\"header__left\">\n        <i class=\"left\" @click.prevent=\"back\"></i>\n      </div>\n      <div class=\"header__right\">\n        <span>Выбор тарифа</span>\n      </div>\n    </div>\n\n    <div class=\"tariff-details__desc\">\n      <h2 class=\"tariff-details__desc-title\">Тариф \"{{ tariff.title }}\"</h2>\n      <div class=\"tariff-details__desc-body\">\n        <h2\n          class=\"tariff-details__desc-body__payment-period\"\n        >Период оплаты - {{ tariff.pay_period }} месяцев</h2>\n        <h2 class=\"tariff-details__desc-body__price\">{{ tariff.price }} Р/мес</h2>\n        <br />\n        <div class=\"tariff-details__desc-body__payment-desc\">\n          <p>разовый платеж - {{ tariff.price * tariff.pay_period }} Р/мес</p>\n          <p>со счета спишется - {{ tariff.price * tariff.pay_period }} Р</p>\n        </div>\n        <br />\n        <div class=\"tariff-details__desc-body-period\">\n          <p>вступит в силу - сегодня</p>\n          <p>активно до - {{setPeriodDuration(tariff.pay_period)}}</p>\n        </div>\n      </div>\n      <button class=\"choose\">\n        <span>Выбрать</span>\n      </button>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"TariffDetails\",\n  props: {\n    tariffs: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      tariff: null\n    };\n  },\n  methods: {\n    back() {\n      this.$router.go(-1);\n    },\n    getTariff() {\n      this.tariffs.forEach(item => {\n        item.tarifs.map(elem => {\n          if (elem.ID == this.$route.params.id) {\n            this.tariff = elem;\n          }\n        });\n      });\n    },\n    setPeriodDuration(months) {\n      const date = new Date();\n      const newDate = new Date(\n        date.setMonth(date.getMonth() + parseInt(months))\n      );\n\n      return `${newDate.getDate()}.${newDate.getMonth()}.${newDate.getFullYear()}`;\n    }\n  },\n  created() {\n    this.getTariff();\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.tariff-details {\n  display: grid;\n  grid-gap: 10px;\n  max-width: 640px;\n  margin: 0 auto;\n\n  &__header {\n    background-color: #ffffff;\n  }\n\n  &__desc {\n    background-color: #ffffff;\n    padding: 10px 0 10px 20px;\n\n    h2,\n    p {\n      margin: 0;\n    }\n\n    &-title {\n      color: #83c227;\n    }\n\n    &-body {\n      &-period {\n        color: #bababa;\n      }\n\n      border-bottom: 1px solid #dddddd;\n      border-top: 1px solid #dddddd;\n      margin: 10px 0;\n      padding: 10px 0;\n    }\n\n    .choose {\n      background-color: #83c227;\n      border: none;\n      color: #ffffff;\n      width: calc(100% - 20px);\n      font-size: 25px;\n      padding: 1rem 0;\n    }\n  }\n}\n</style>"]}]}